<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>CCGX Remote Control</title>
    <!--    
        Modified version of noVNC example, source is here.
        https://github.com/kanaka/noVNC/blob/master/vnc_auto.html
    
        Copyright and license of original file:
        noVNC example: simple example using default UI
        Copyright (C) 2012 Joel Martin
        Copyright (C) 2013 Samuel Mannehed for Cendio AB
        noVNC is licensed under the MPL 2.0 (see LICENSE.txt)
        This file is licensed under the 2-Clause BSD license (see LICENSE.txt).
    -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link href="styling/styles.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="include/util.js"></script>
</head>
<body>
    <div id="modal-popup-container-remote-view"
        class="modal-popup-container remote-view-popup-container">
        <div class="remote-view-display-container">
            <div class="remote-view-display">
                <div class="remote-view-display-inner">
                    <canvas id="remote-view-canvas" width="640px" height="20px">
                        Canvas support is required for using the remote control functionality.
                    </canvas>
                </div>
            </div>
            <div class="remote-view-display-buttons">
                <div class="remote-view-display-button-left">
                    <input type="button" class="clickable btn light" value="1st button" onclick="rfb.sendKey(65307)" />
                </div>
                <div class="remote-view-display-button-right">
                    <input type="button" class="clickable btn light" value="2nd button" onclick="rfb.sendKey(65293)" />
                </div>
            </div>
        </div>
        <div class="remote-view-controls-container">
            <div class="remote-view-controls-text">
                <h2 class="remote-view-controls-title">
                    Remote Console BETA
                </h2>
                <h4 class="remote-view-controls-explanation">
                     Warning: No security is implemented in this beta, your CCGX is freely accessible on any network it's connected too. Use with care!
                </h4>
            </div>
            <div class="remote-view-controls">
                <div class="remote-view-controls-row">
                    <div class="clickable btn light remote-view-control-button up" onclick="rfb.sendKey(65362)">
                        <img src="styling/img/svg-icons/arrow-up.svg" class="remote-view-control-icon svg" />
                    </div>
                </div>
                <div class="remote-view-controls-row">
                    <div class="clickable btn light remote-view-control-button left" onclick="rfb.sendKey(65361)">
                        <img src="styling/img/svg-icons/arrow-left.svg" class="remote-view-control-icon svg" />
                    </div>
                    <div class="clickable btn light remote-view-control-button enter" onclick="rfb.sendKey(32)">
                        <img src="styling/img/svg-icons/arrow-up.svg" class="remote-view-control-icon svg" />
                    </div>
                    <div class="clickable btn light remote-view-control-button right" onclick="rfb.sendKey(65363)">
                        <img src="styling/img/svg-icons/arrow-right.svg" class="remote-view-control-icon svg" />
                    </div>
                </div>
                <div class="remote-view-controls-row">
                    <div class="clickable btn light remote-view-control-button down" onclick="rfb.sendKey(65364)">
                        <img src="styling/img/svg-icons/arrow-down.svg" class="remote-view-control-icon svg" />
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        "use strict";

        // Load supporting scripts
        Util.load_scripts(["webutil.js", "base64.js", "websock.js", "des.js", "keysymdef.js", "keyboard.js", "input.js", "display.js", "jsunzip.js", "rfb.js", "keysym.js"]);

        var rfb;
        window.onscriptsload = function() {
        	// Connection settings
            var host = WebUtil.getQueryVar('host', window.location.hostname);
            var port = WebUtil.getQueryVar('port', 81);
            var password = WebUtil.getQueryVar('password', '');
            var path = WebUtil.getQueryVar('path', 'websockify');

            // Set up logging to console
            WebUtil.init_logging('warn');

            // Set up connection
            rfb = new RFB({
	            'target': $D('remote-view-canvas'),
	            'encrypt': WebUtil.getQueryVar('encrypt', false),
	            'repeaterID': '',
	            'true_color': true,
	            'local_cursor': false,
	            'shared': true,
	            'view_only': false,
            });
            
            // Connect
            rfb.connect(host, port, password, path);
        };
    </script>
</body>
</html>

